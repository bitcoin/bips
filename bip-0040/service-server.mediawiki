=Service: Server=

This service provides methods to get (and set) server information.

* Service type: <code>server</code>
* Service vendor: <code>Electrum</code>

==Method: Add Peer==

A command to add the node to the peer list.

* Method name: <code>add_peer</code>
* Introduced in: <code>1.1</code>

{|
! <ins>[Request]</ins>
! Type
! Example
! Description
|-
! Method
| colspan="3" | <code>server.add_peer</code>
|-
! Params [0]
| <code>object</code>
| <code>{"hosts":{"1.2.3.4":{"ssl_port":50002,"tcp_port":50001}},"genesis_hash":"000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f","hash_function":"sha256","server_version":"Electrum Server 4.5.6","protocol_max":"1.1","protocol_min":"1.0","pruning":1000}</code>
| The features of the server. See <code>server.features</code> for more details.
|-
! <ins>[Response]</ins>
! Type
! Example
! Description
|-
! Result
| <code>boolean</code>
| <code>true</code> or <code>false</code>
| Indication if the server features are accepted by now. If so, more tests can follow before the server will become visible at <code>server.peers.subscribe</code>
|}

==Method: Banner==

A command to get the server banner.

* Method name: <code>banner</code>
* Introduced in: <code>0.1</code>

{|
! <ins>[Request]</ins>
! Type
! Example
! Description
|-
! Method
| colspan="3" | <code>server.banner</code>
|-
! <ins>[Response]</ins>
! Type
! Example
! Description
|-
! Result
| <code>string</code>
| <code>Welcome to Electrum!</code>
| The server banner.
|}

==Method: Cache==

A command to get the server cache size.

* Method name: <code>cache</code>
* Introduced in: <code>0.1</code>
* Removed in: <code>0.9</code>

{|
! <ins>[Request]</ins>
! Type
! Example
! Description
|-
! Method
| colspan="3" | <code>server.cache</code>
|-
! <ins>[Response]</ins>
! Type
! Example
! Description
|-
! Result
| <code>int</code>
| <code>1234</code>
| The amount of cache in bytes.
|}

==Method: Debug==

* Method name: <code>debug</code>
* Introduced in: <code>0.9</code>
* Removed in: <code>0.10</code>/<code>1.0</code>

{|
! <ins>[Request]</ins>
! Type
! Example
! Description
|-
! Method
| colspan="3" | <code>server.debug</code>
|-
! Params [0]
| <code>string</code>
| <code>My-Secret-Password</code>
| The password of the server owner.
|-
! Params [1]
| <code>string</code>
| <code>repr({str(i): i**2 for i in range(5)})</code>
| The data that will be evaluated by the server.
|-
! <ins>[Response]</ins>
! Type
! Example
! Description
|-
! Result
| <code>string</code>
| <code>1234</code> or <code>error</code>
| The string version of the evaluated data.
|}

==Method: Donation Address==

A command to get the server donation address.

* Method name: <code>donation_address</code>
* Introduced in: <code>0.10</code>/<code>1.0</code>

{|
! <ins>[Request]</ins>
! Type
! Example
! Description
|-
! Method
| colspan="3" | <code>server.donation_address</code>
|-
! <ins>[Response]</ins>
! Type
! Example
! Description
|-
! Result
| <code>string</code>
| <code>1NS17iag9jJgTHD1VXjvLCEnZuQ3rJDE9L</code>
| The address you can donate to if you want to help the server owner.
|}

==Method: Features==

A command to get the server features.

* Method name: <code>features</code>
* Introduced in: <code>1.1</code>

{|
! <ins>[Request]</ins>
! Type
! Example
! Description
|-
! Method
| colspan="3" | <code>server.features</code>
|-
! <ins>[Response]</ins>
! Type
! Example
! Description
|-
! Result
| <code>object</code>
| <code>{"hosts":{"1.2.3.4":{"ssl_port":50002,"tcp_port":50001}},"genesis_hash":"000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f","hash_function":"sha256","server_version":"Electrum Server 4.5.6","protocol_max":"1.1","protocol_min":"1.0","pruning":1000}</code>
| The features of the server.
|-
! Result ["hosts"]
| <code>object</code>
| <code>{"1.2.3.4":{"ssl_port":50002,"tcp_port":50001}}</code>
| The hosts that this server can be reached at. The key is a hostname (or IP address) and the value is an object with ports.
|-
! Result ["hosts"][hostname]["tcp_port"]
| <code>int</code>
| <code>50001</code>
| The TCP port this server can be reached at.
|-
! Result ["hosts"][hostname]["ssl_port"]
| <code>int</code>
| <code>50002</code>
| The SSL/TLS port this server can be reached at.
|-
! Result ["genesis_hash"]
| <code>string</code>
| <code>000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f</code>
| The hash of the genesis block.
|-
! Result ["hash_function"]
| <code>string</code>
| <code>sha256</code>
| The hash function the server uses for script hashing. Only <code>sha256</code> allowed.
|-
! Result ["server_version"]
| <code>string</code>
| <code>Electrum Server 4.5.6</code>
| The name of the server.
|-
! Result ["protocol_max"]
| <code>string</code>
| <code>1.1</code>
| The maximum protocol version supported by the server.
|-
! Result ["protocol_min"]
| <code>string</code>
| <code>1.0</code>
| The minimum protocol version supported by the server.
|-
! Result ["pruning"]
| <code>int</code>  or <code>null</code>
| <code>1000</code>
| The pruning limit. Omitted or null if no pruning limit.
|}

==Method: Info==

A command to get information about the active sessions.

* Method name: <code>info</code>
* Introduced in: <code>0.1</code>
* Removed in: <code>0.10</code>/<code>1.0</code>

{|
! <ins>[Request]</ins>
! Type
! Example
! Description
|-
! Method
| colspan="3" | <code>server.info</code>
|-
! Params [0]
| <code>string</code>
| <code>My-Secret-Password</code>
| The password of the server owner.
|-
! <ins>[Response]</ins>
! Type
! Example
! Description
|-
! Result
| <code>array</code> of <code>object</code>s
| <code>[ {"time":null,"name":null,"address":null,"version":null,"subscriptions":1234} ]</code>
| An array of connected clients.
|-
! Result [index]
| <code>object</code>
| <code>{"time":null,"name":null,"address":null,"version":null,"subscriptions":1234}</code>
| A single connected client.
|-
! Result [index]["time"]
| <code>float</code>
| <code>1753381329.5</code>
| The Epoch time when this client connected to the server.
|-
! Result [index]["name"]
| <code>string</code>
| <code>HTTP</code>, <code>TCP</code> or <code>SSL</code>
| The name of the session. Can be <code>HTTP</code>, <code>TCP</code>, or <code>SSL</code> when TCP over SSL/TLS.
|-
! Result [index]["address"]
| <code>string</code>
| <code>1.2.3.4</code> or <code>dfjgfjsdfhsfgsdfgdffs</code>
| The host (IP address) in case of TCP and the session ID in case of HTTP.
|-
! Result [index]["version"]
| <code>string</code>
| <code>unknown</code> or <code>Electrum Client 1.2.3</code>
| The name of the parameter at position <code>index</code> of requested method.
|-
! Result [index]["subscriptions"]
| <code>int</code>
| <code>1234</code>
| The amount of subscriptions this client is subscribed to.
|}

==Method: Load==

A command to get the load on the server.

* Method name: <code>load</code>
* Introduced in: <code>0.1</code>
* Removed in: <code>0.9</code>

{|
! <ins>[Request]</ins>
! Type
! Example
! Description
|-
! Method
| colspan="3" | <code>server.load</code>
|-
! <ins>[Response]</ins>
! Type
! Example
! Description
|-
! Result
| <code>int</code>
| <code>1234</code>
| The approximate amount of requests to the server waiting in the queue.
|}

==Method: Peers==

A event to announce peers.

* Method name: <code>peers</code>
* Introduced in: <code>0.1</code>
* Deprecated in: <code>0.9</code>
* Removed in: <code>0.10</code>/<code>1.0</code>

{|
! <ins>[Notification]</ins>
! Type
! Example
! Description
|-
! Method
| colspan="3" | <code>server.peers</code>
|-
! Params [0] (<code>t</code>)
| <code>array</code> of <code>arrays</code>s
| <code>[ ["1.2.3.4","stratum.example.com", ["v0.7", "p10000", "t", "h", "s", "g" ] ] ]</code>
| An array with the elements IP, host and an array with version, pruning and port information. The version is the letter <code>v</code> followed by the protocol version. The pruning limit is letter <code>p</code> followed by the limit value. This element can be omitted if the server doesn't prune. The other letters are indicators for supported protocols (e.g. HTTP or TCP). If there is no number after the letter, the server uses the default port. See the main document for all possible protocols.
|}

==Method: Ping==

A command to ping the server.

* Method name: <code>ping</code>
* Introduced in: <code>1.2</code>

{|
! <ins>[Request]</ins>
! Type
! Example
! Description
|-
! Method
| colspan="3" | <code>server.ping</code>
|-
! <ins>[Response]</ins>
! Type
! Example
! Description
|-
! Result
| <code>null</code>
| <code>null</code>
| Null.
|}

==Method: Stop==

A command to stop the server.

* Method name: <code>stop</code>
* Introduced in: <code>0.1</code>
* Removed in: <code>0.10</code>/<code>1.0</code>

{|
! <ins>[Request]</ins>
! Type
! Example
! Description
|-
! Method
| colspan="3" | <code>server.stop</code>
|-
! Params [0]
| <code>string</code>
| <code>My-Secret-Password</code>
| The password of the server owner.
|-
! <ins>[Response]</ins>
! Type
! Example
! Description
|-
! Result
| <code>string</code>
| <code>The server is stopping!</code>
| Some text indicating the server is stopping.
|}

==Method: Version==

A command to set the client version, get the server version and negotiate the protocol version.

* Method name: <code>version</code>
* Introduced in: <code>0.1</code>

{|
! <ins>[Request]</ins>
! Type
! Example
! Description
|-
! Method
| colspan="3" | <code>server.version</code>
|-
! Params [0]
| <code>string</code>
| <code>Electrum Client 1.2.3</code> or <code>0.4</code>
| The client name. On version <code>0.5</code> and lower, this parameter contains the protocol version of the client.
|-
! Params [1]
| <code>float</code>, a <code>string</code> that represents a float, or an array of <code>string</code>s.
| <code>0.8</code> (in <code>0.6</code> and later) or <code>["1.1","1.4"]</code> or <code>1.3</code> (in <code>1.1</code> and later)
| Protocol version. Introduced in: <code>0.6</code>, required since <code>1.1</code>. Since 1.1, if the protocol version is a string, this protocol version is used for both minimum and maximum.
|-
! <ins>[Response]</ins>
! Type
! Example
! Description
|-
! Result
| <code>string</code> or <code>array</code>
| <code>ok</code> (in <code>0.1</code>), <code>0.4</code> (in <code>0.2</code> and later), or <code>["Electrum Server 4.5.6","1.3"]</code> (in <code>1.1</code> and later)
| The server version.
|}